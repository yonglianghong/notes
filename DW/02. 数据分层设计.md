### 数据分层设计

##### 为什么要数据分层？

1. 清晰的数据结构：每一层的数据都有明确的作用域，在使用的时候能够方便地定位和理解。
2. 数据血源追踪：能够清晰的知道一张数据表的上下游，当数据出现问题，能够很方便地按层级进行回溯，并清楚危害范围。
3. 减少重复开发：将通用的中间层数据抽象出来，极大地减少重复计算。
4. 将问题拆解：将复杂任务的数据处理流程拆解，每一步只处理一层数据，便于理解和维护。
5. 屏蔽原始数据的影响。
6. 屏蔽业务，如果业务变更，也不用改变所有数据。



##### 如何分层？

ods（operational data store），顾名思义，操作数据层，最接近原始数据的一层。（将原始数据中的脏数据去除）

基础事实层：明细数据，在ods的基础上进一步清晰、规范；

轻度汇总层：按照统计偏向（口径、业务）汇总；（用户视角、业务视角）

集市宽表层：更高层次的视图（直接支持应用）



维度表：根据事实表整理、直接生成（省市）、业务同步、字典表（编码）



分层之外？

HDFS路径规范

HIVE表名规范

业务库比如mysql，整体采用hive建设数据仓库，mysql直接同步到hive？



